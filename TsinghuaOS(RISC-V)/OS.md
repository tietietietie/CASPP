# TsinghuaOS简略笔记

## 2 操作系统与系统结构和程序设计语言

### 2.1 从OS角度看计算机系统
    操作系统（内核）向下对硬件进行抽象，向上为应用程序提供系统调用接口，提供CPU调度，内存管理，磁盘等硬件驱动，文件系统等多种功能。
* 隔离：提高系统的可用性和安全性。比如系统调用函数和应用程序函数是互相隔离的（保证内核安全）。实现方法：地址空间 + 特权模式（中断）。

### 从OS角度看RISC-V CPU
    指令集将硬件和软件分开，对操作系统至关重要，RISC-V的指令集非常简洁，将特权模式分为 U,S,H,M并且更好的定义的各层接口。利用CSR（控制特权寄存器）来实现隔离

### CPU启动
    加电 ---> CPU初始化 ---> 内存初始化（一些控制器/串口等板级设备的设置）---> 板级初始化 ---> 第一条指令位置（start_addr)（你写的代码执行的开始位置）（DRAM 0x80000000)(bois:openSBI) (不是操作系统)